<!DOCTYPE html>
<html>
<head>
    <title>ü§ñ NUPI Cloud Agent - Live Control Center</title>
    <meta charset="UTF-8">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            color: #00ff41;
            font-family: 'Courier New', monospace;
            padding: 20px;
            min-height: 100vh;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 0 20px #00ff41;
        }
        .subtitle {
            text-align: center;
            color: #00ddff;
            margin-bottom: 30px;
            font-size: 1.2em;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .panel {
            background: rgba(0, 255, 65, 0.05);
            border: 2px solid #00ff41;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.2);
        }
        .panel h2 {
            color: #00ddff;
            margin-bottom: 15px;
            font-size: 1.5em;
            border-bottom: 2px solid #00ff41;
            padding-bottom: 10px;
        }
        .stat {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(0, 255, 65, 0.2);
        }
        .stat:last-child { border-bottom: none; }
        .stat-label { color: #888; }
        .stat-value {
            color: #00ff41;
            font-weight: bold;
            font-size: 1.1em;
        }
        .command-list {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
            max-height: 300px;
            overflow-y: auto;
        }
        .command {
            padding: 8px;
            margin: 5px 0;
            background: rgba(0, 255, 65, 0.1);
            border-left: 3px solid #00ff41;
            border-radius: 3px;
        }
        .command code {
            color: #00ddff;
            font-weight: bold;
        }
        .tv-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        .tv-card {
            background: rgba(0, 221, 255, 0.1);
            border: 2px solid #00ddff;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        .tv-card h3 {
            color: #00ddff;
            margin-bottom: 10px;
        }
        .tv-card .ip {
            color: #00ff41;
            font-size: 0.9em;
            margin-top: 5px;
        }
        .status-online {
            display: inline-block;
            width: 12px;
            height: 12px;
            background: #00ff41;
            border-radius: 50%;
            animation: pulse 2s infinite;
            margin-right: 8px;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        .telegram-badge {
            background: linear-gradient(135deg, #0088cc, #00ddff);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            text-align: center;
            margin: 20px 0;
            font-size: 1.1em;
            box-shadow: 0 0 15px rgba(0, 136, 204, 0.5);
        }
        .network-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        .network-stat {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            border: 1px solid #00ff41;
        }
        .network-stat .big-num {
            font-size: 2em;
            color: #00ff41;
            font-weight: bold;
        }
        .network-stat .label {
            color: #888;
            margin-top: 5px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ü§ñ NUPI CLOUD AGENT</h1>
        <p class="subtitle">Real-Time Network Control via Telegram</p>

        <div class="telegram-badge">
            <span class="status-online"></span>
            <strong>@JDTechSupportbot</strong> - Live & Monitoring 255+ Devices
        </div>

        <div class="grid">
            <!-- Agent Status -->
            <div class="panel">
                <h2>ü§ñ Agent Status</h2>
                <div class="stat">
                    <span class="stat-label">Status</span>
                    <span class="stat-value">‚úÖ ONLINE</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Platform</span>
                    <span class="stat-value">Railway + Local</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Agents Running</span>
                    <span class="stat-value" id="agent-count">31+</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Network</span>
                    <span class="stat-value">192.168.12.x</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Commands</span>
                    <span class="stat-value">20+ Active</span>
                </div>
            </div>

            <!-- Telegram Commands -->
            <div class="panel">
                <h2>üì± Quick Commands</h2>
                <div class="command-list">
                    <div class="command">
                        <code>/e on</code> - Turn on Element TV
                    </div>
                    <div class="command">
                        <code>/s netflix</code> - Streambar Netflix
                    </div>
                    <div class="command">
                        <code>/t home</code> - TCL home screen
                    </div>
                    <div class="command">
                        <code>/h mute</code> - Mute Hisense
                    </div>
                    <div class="command">
                        <code>/all on</code> - Turn on ALL TVs
                    </div>
                    <div class="command">
                        <code>/all netflix</code> - Netflix ALL TVs
                    </div>
                    <div class="command">
                        <code>/find roku</code> - Find Roku TVs
                    </div>
                    <div class="command">
                        <code>/network</code> - Network stats
                    </div>
                    <div class="command">
                        <code>/ping [ip]</code> - Ping device
                    </div>
                    <div class="command">
                        <code>/commands</code> - Full list
                    </div>
                </div>
            </div>

            <!-- Network Overview -->
            <div class="panel">
                <h2>üåê Network Overview</h2>
                <div class="network-stats">
                    <div class="network-stat">
                        <div class="big-num">255+</div>
                        <div class="label">Total Devices</div>
                    </div>
                    <div class="network-stat">
                        <div class="big-num">4</div>
                        <div class="label">Roku TVs</div>
                    </div>
                    <div class="network-stat">
                        <div class="big-num">100%</div>
                        <div class="label">Uptime</div>
                    </div>
                </div>
                <div class="stat" style="margin-top: 15px;">
                    <span class="stat-label">Router</span>
                    <span class="stat-value">f5688w.lan</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Gateway</span>
                    <span class="stat-value">192.168.12.1</span>
                </div>
            </div>
        </div>

        <!-- Roku TVs -->
        <div class="panel">
            <h2>üì∫ Controlled Roku TVs</h2>
            <div class="tv-grid">
                <div class="tv-card">
                    <h3><span class="status-online"></span>65" Element TV</h3>
                    <div>Command: <code>/e [action]</code></div>
                    <div class="ip">192.168.12.175</div>
                </div>
                <div class="tv-card">
                    <h3><span class="status-online"></span>Roku Streambar</h3>
                    <div>Command: <code>/s [action]</code></div>
                    <div class="ip">192.168.12.76</div>
                </div>
                <div class="tv-card">
                    <h3><span class="status-online"></span>65" TCL TV</h3>
                    <div>Command: <code>/t [action]</code></div>
                    <div class="ip">192.168.12.56</div>
                </div>
                <div class="tv-card">
                    <h3><span class="status-online"></span>43" Hisense TV</h3>
                    <div>Command: <code>/h [action]</code></div>
                    <div class="ip">192.168.12.247</div>
                </div>
            </div>
        </div>

        <!-- All Commands -->
        <div class="panel">
            <h2>üéÆ All Available Actions</h2>
            <div class="command-list">
                <div class="command">
                    <strong>Power:</strong> <code>on</code>, <code>off</code>
                </div>
                <div class="command">
                    <strong>Apps:</strong> <code>netflix</code>, <code>hulu</code>, <code>youtube</code>, <code>disney</code>, <code>prime</code>
                </div>
                <div class="command">
                    <strong>Navigation:</strong> <code>home</code>, <code>back</code>, <code>up</code>, <code>down</code>, <code>left</code>, <code>right</code>, <code>select</code>
                </div>
                <div class="command">
                    <strong>Playback:</strong> <code>play</code>, <code>pause</code>
                </div>
                <div class="command">
                    <strong>Volume:</strong> <code>mute</code>, <code>volup</code>, <code>voldown</code>
                </div>
            </div>
        </div>

        <!-- System Info -->
        <div class="panel">
            <h2>‚öôÔ∏è System Information</h2>
            <div class="stat">
                <span class="stat-label">Deployment</span>
                <span class="stat-value">nupidesktopai.com</span>
            </div>
            <div class="stat">
                <span class="stat-label">GitHub</span>
                <span class="stat-value">NUPI-CLOUD-AGENT</span>
            </div>
            <div class="stat">
                <span class="stat-label">Bot Username</span>
                <span class="stat-value">@JDTechSupportbot</span>
            </div>
            <div class="stat">
                <span class="stat-label">Protocol</span>
                <span class="stat-value">Roku External Control API</span>
            </div>
            <div class="stat">
                <span class="stat-label">Data Mode</span>
                <span class="stat-value">üéØ REAL DATA ONLY</span>
            </div>
        </div>
    </div>

    <script>
        // Update agent count periodically
        function updateStats() {
            fetch('/api/agents/status')
                .then(r => r.json())
                .then(data => {
                    if (data.agent_count) {
                        document.getElementById('agent-count').textContent = data.agent_count + '+';
                    }
                })
                .catch(e => console.log('API not available'));
        }

        // Update every 30 seconds
        setInterval(updateStats, 30000);
        updateStats();
    </script>
</body>
</html>
